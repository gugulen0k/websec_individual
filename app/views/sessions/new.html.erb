<div class="min-h-screen flex items-center justify-center px-4 py-12 bg-gray-50">
  <div class="max-w-md w-full space-y-6">
    <div class="text-center">
      <h2 class="text-3xl font-semibold text-gray-900 mb-2">
        Вход в систему
      </h2>
      <p class="text-gray-600">
        Введите свои учетные данные для доступа
      </p>
    </div>

    <div class="bg-white border border-gray-200 rounded-lg p-8">
      <% if flash[:alert] %>
        <div class="alert alert-error">
          <%= flash[:alert] %>
        </div>
      <% end %>

      <form id="login-form" action="<%= login_path %>" method="post" novalidate class="space-y-5">
        <%= hidden_field_tag :authenticity_token, form_authenticity_token %>

        <div>
          <label for="login" class="form-label">
            Логин
          </label>
          <input
            type="text"
            name="login"
            id="login"
            required
            minlength="3"
            maxlength="50"
            class="form-input"
            placeholder="Введите ваш логин"
          />
        </div>

        <div>
          <label for="password" class="form-label">
            Пароль
          </label>
          <input
            type="password"
            name="password"
            id="password"
            required
            minlength="6"
            class="form-input"
            placeholder="Введите пароль"
          />
        </div>

        <div>
          <button type="submit" class="btn btn-primary w-full">
            Войти
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<script>
  document.getElementById('login-form').addEventListener('submit', function(e) {
    const login = document.getElementById('login').value.trim();
    const password = document.getElementById('password').value;

    const badPattern = /[;'"\\]/;
    if (login.length < 3 || password.length < 6 || badPattern.test(login) || badPattern.test(password)) {
      e.preventDefault();
      alert('Проверьте ввод. Логин/пароль не проходят базовую валидацию.');
    }
  });
</script>
